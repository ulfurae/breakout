// ==================
// UPDATE SIMULATION
// ==================

function updateSimulation() {
    if (shouldSkipUpdate()) return;

    g_ball.update();
    
    g_paddle1.update();
}

var KEY_PAUSE = 'P'.charCodeAt(0);
var KEY_STEP  = 'O'.charCodeAt(0);
var g_isUpdatePaused = false;

function shouldSkipUpdate() {
    if (eatKey(KEY_PAUSE)) {
        g_isUpdatePaused = !g_isUpdatePaused;
    }
    return g_isUpdatePaused && !eatKey(KEY_STEP);    
}

// ==================
// RENDER SIMULATION
// ==================

function renderSimulation(ctx) {
    clearCanvas(ctx);
    
		buildBricks(g_ctx, allBricks[0], 0);
		buildBricks(g_ctx, allBricks[1], 22);
		buildBricks(g_ctx, allBricks[2], 44);
		buildBricks(g_ctx, allBricks[3], 66);

    g_ball.render(ctx);
    
    g_paddle1.render(ctx);
}

function clearCanvas(ctx) {
    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
}
